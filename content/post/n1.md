###nginx源码阅读——内存管理和基本数据结构封装


作为当今几乎最火的web服务器，nginx源码具备了值得阅读的所有优点：大量部署在实际环境中，应用广泛；代码清晰易懂、结构精巧，数量却惊人的少——核心代码只有几万行；处于高速发展阶段，了解之后很容易参与到它的开发中。同时作为纯C开发的大型开源项目，它的每个功能实现都对自己的技术提高有很大帮助，包括C语言、Linux基础开发、epoll、框架设计等等。所以最近从github clone了最新代码，试着读完整个项目。


我没怎么用过nginx，Linux开发经验也不太充足，但是看到现在（除了http模块其它基本搞清楚），也能修改核心代码，添加自己想要的模块。所以这个任务（读完整个项目并搞懂）不算难，任何会C语言、懂些计算机网络和Linux的人都可以完成。我的思路是先阅读项目最通用的部分，比如内存管理、基本数据结构等，有助于适应整体风格；也不会遇到太多看不懂的，毕竟这些实现耦合度很低，单独拿出来也能使用；然后再从main函数开始，一步一步理清楚逻辑。


为了记录自己的学习过程，我会写一系列文章，以源码注释和解释的方式，介绍nginx源码和实现逻辑。[这里](https://github.com/0xfei/nginx)有我一直提交的注释（英文写的很蛋疼），也可以从github下载最新官方源码。没有自己喜好的话，编辑器我建议用vscode，插件丰富，免费。


今天是第一篇，介绍耦合度最低，也最基础的内存池，以及仅依赖内存池的基本数据结构。所有代码都在nginx/core目录下，涉及到的文件有 